<!-- juegos-terapeuticos.component.html -->

<div class="juegos-container">
  
  <!-- Vista principal: Selecci√≥n de categor√≠as -->
  <main class="juegos-seccion-menu" *ngIf="!categoriaSeleccionada">
    
    <!-- Bot√≥n volver al dashboard -->
    <button class="btn-volver-dashboard" (click)="volverAlDashboard()">
      <span class="icono-flecha">‚Üê</span>
      <span class="texto-btn">Volver al Dashboard</span>
    </button>

    <!-- Header con imagen de fondo -->
    <div class="header-juegos-nuevo">
      <div class="header-background">
        <div class="header-overlay"></div>
        <div class="header-content">
          <h1 class="seccion-titulo-nuevo">üéÆ Juegos Terap√©uticos</h1>
          <p class="seccion-descripcion-nuevo">Selecciona una categor√≠a para comenzar a jugar</p>
        </div>
      </div>
    </div>

    <!-- Grid de categor√≠as -->
    <div class="categorias-grid">
      <div 
        *ngFor="let categoria of categorias"
        class="categoria-card"
        [ngClass]="'bg-gradient-' + categoria.color"
        (click)="seleccionarCategoria(categoria)">
        
        <!-- Imagen de la categor√≠a -->
        <div class="categoria-imagen" [ngClass]="'bg-imagen-' + categoria.id"></div>
        
        <!-- Contenido -->
        <div class="categoria-contenido">
          <h3>{{ categoria.titulo }}</h3>
          <p class="categoria-subtitulo">{{ categoria.subtitulo }}</p>
          <p class="categoria-descripcion">{{ categoria.descripcion }}</p>
          
          <!-- Contador de juegos -->
          <div class="categoria-juegos-count">
            <div class="count-badge">
              <div class="count-numero">{{ categoria.juegos.length }}</div>
              <div class="count-texto">Juegos</div>
            </div>
          </div>
          
          <!-- Bot√≥n jugar -->
          <button class="play-button">
            <span class="play-icon">‚ñ∂</span>
            <span>Jugar</span>
          </button>
        </div>
      </div>
    </div>

  </main>

  <!-- Vista de juegos por categor√≠a -->
  <main class="main-content" *ngIf="categoriaSeleccionada">
    <!-- Bot√≥n volver a categor√≠as -->
    <button class="btn-volver-dashboard" (click)="volverACategorias()">
      <span class="icono-flecha">‚Üê</span>
      <span class="texto-btn">Volver a Categor√≠as</span>
    </button>

    <div class="categoria-selected" 
         *ngFor="let categoria of categorias" 
         [ngStyle]="categoria.id === categoriaSeleccionada ? {} : {display: 'none'}">
      
      <div class="categoria-header-selected">
        <div class="categoria-info">
          <span class="categoria-emoji-large">{{ categoria.emoji }}</span>
          <div>
            <h2>{{ categoria.titulo }}</h2>
            <p>{{ categoria.descripcion }}</p>
          </div>
        </div>
      </div>

      <div class="juegos-grid">
        <div 
          *ngFor="let juego of categoria.juegos"
          class="juego-card"
          (click)="jugarJuego(juego, categoria)">
          
          <div class="juego-header">
            <span class="juego-emoji">{{ juego.emoji }}</span>
            <div class="juego-dificultad" [ngClass]="getDificultadColor(juego.dificultad)">
              {{ getDificultadTexto(juego.dificultad) }}
            </div>
          </div>
          
          <div class="juego-content">
            <h4>{{ juego.nombre }}</h4>
            <p>{{ juego.descripcion }}</p>
          </div>
          
          <div class="juego-footer">
            <div class="juego-tipo" [ngClass]="juego.tipo === 'ia-ruleta' ? 'ia-ruleta' : ''">
              {{ juego.tipo }}
            </div>
            <button class="btn-jugar" [ngClass]="juego.tipo === 'ia-ruleta' ? 'ia-special' : ''">
              <span class="play-icon">‚ñ∂</span>
              Jugar
            </button>
          </div>
        </div>
      </div>
    </div>
  </main>
</div>