<div class="login-wrapper">
  <!-- Elementos flotantes decorativos -->
  <div class="floating-elements">
    <div class="star"></div>
    <div class="star"></div>
    <div class="star"></div>
    <div class="heart"></div>
    <div class="heart"></div>
    <div class="cloud"></div>
    <div class="cloud"></div>
  </div>
  
  <!-- T√≠tulo de bienvenida -->
  <h1 class="titulo-bienvenida">CODIGO DE VERIFICACION</h1>
  
  <div class="login-box">
    <!-- Mascota -->
    <div class="mascot">üìÆ</div>
    
    <p class="subtitle">
      Te enviamos un c√≥digo de 6 d√≠gitos a: <br>
      <strong>{{ email }}</strong><br>
      Ingr√©salo aqu√≠ para continuar.
    </p>
    
    <!-- Formulario -->
    <form (ngSubmit)="verificarCodigo()" #codeForm="ngForm">
      
      <!-- Campo para c√≥digo de 6 d√≠gitos -->
      <div class="code-input-container">
        <div class="code-inputs">
          <input 
            *ngFor="let digit of codeDigits; let i = index"
            type="text" 
            maxlength="1"
            class="code-digit"
            [value]="codeDigits[i]"
            [name]="'digit' + i"
            (input)="onDigitInput($event, i)"
            (keydown)="onKeyDown($event, i)"
            [disabled]="isLoading"
            autocomplete="off"
            #digitInput
          />
        </div>
        <div class="code-display">{{ getFullCode() }}</div>
      </div>
      
      <!-- Mostrar mensaje de error si existe -->
      <div *ngIf="errorMessage" class="error-message">
        {{ errorMessage }}
      </div>
      
      <!-- Mostrar mensaje de √©xito si existe -->
      <div *ngIf="successMessage" class="success-message">
        {{ successMessage }}
      </div>
      
      <!-- Bot√≥n verificar c√≥digo -->
      <button 
        type="submit"
        [disabled]="isLoading || !isCodeComplete()"
        class="login-button"
      >
        <span *ngIf="!isLoading">‚úÖ Verificar c√≥digo</span>
        <span *ngIf="isLoading">Verificando... ‚è≥</span>
      </button>
      
      <!-- Bot√≥n reenviar c√≥digo -->
      <button 
        type="button"
        (click)="reenviarCodigo()"
        class="resend-button"
        [disabled]="isLoading || resendCooldown > 0"
      >
        <span *ngIf="resendCooldown === 0">üì§ Reenviar c√≥digo</span>
        <span *ngIf="resendCooldown > 0">Reenviar en {{ resendCooldown }}s</span>
      </button>
      
      <!-- Bot√≥n volver -->
      <button 
        type="button"
        (click)="volver()"
        class="back-button"
        [disabled]="isLoading"
      >
        ‚Üê Volver
      </button>
    </form>
    
    <p class="help-text">
      El c√≥digo expira en 10 minutos. Si no lo recibes, 
      revisa tu carpeta de spam.
    </p>
  </div>
</div>