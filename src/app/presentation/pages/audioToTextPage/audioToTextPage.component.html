<div class="chat-container">
  <div class="chat-messages">
    <div class="grid gap-y-2">

      <!-- Mensaje de bienvenida -->
      <app-chat-message text="**隆Hola! Vamos a evaluar tu pronunciaci贸n.**

**Consejos para grabar:**
- Habla alto y claro
- Ac茅rcate al micr贸fono
- Di una palabra o frase completa
- Evita lugares con ruido

Presiona el bot贸n cuando est茅s listo." />

    
      @for (message of messages(); track trackByMessageId($index, message)) {
      @if( message.isGpt ) {
      <app-chat-message [text]="message.text" />
      } @else {
      <app-my-message [text]="message.text" />
      }
      }

      <!-- Loader -->
      @if (isLoading()) {
      <app-typing-loader />
      }

    </div>
  </div>

  <!-- Bot贸n de grabaci贸n -->
  <div class="p-4 flex flex-col items-center gap-3">

    <!-- Indicador de tiempo de grabaci贸n -->
    @if (isRecording()) {
    <div class="text-black text-lg font-bold animate-pulse">
       Grabando... {{ recordingTime() }}s
    </div>
    }

    <!-- Botones -->
    @if (!isRecording()) {
    <button (click)="startRecording()" [disabled]="isLoading()"
      class="bg-red-500 hover:bg-red-600 text-white font-bold py-4 px-8 rounded-full shadow-lg transition-all transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed">
       Grabar Audio
    </button>
    } @else {
    <button (click)="stopRecording()"
      class="bg-gray-700 hover:bg-gray-800 text-white font-bold py-4 px-8 rounded-full shadow-lg">
      癸 Detener Grabaci贸n
    </button>
    }

    <p class="text-gray-400 text-sm">
      @if (!isRecording() && !isLoading()) {
      Presiona el bot贸n y habla claramente
      }
      @if (isRecording()) {
      Habla ahora, luego presiona "Detener"
      }
      @if (isLoading()) {
      Evaluando tu pronunciaci贸n...
      }
    </p>
  </div>
</div>