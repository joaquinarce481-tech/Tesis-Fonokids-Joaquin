<div class="game-container">
  <!-- Header con tÃ­tulo y progreso -->
  <div class="game-header">
    <button class="btn-back" (click)="volverAlMenu()">
      <span class="icon">â†</span> Volver
    </button>
    <h1 class="game-title">ğŸ¯ Parejas de SÃ­labas ğŸ¯</h1>
    <div class="progress-info" *ngIf="nivelActual">
      <span class="nivel-info">Nivel {{ nivelActualNumero }}/{{ totalNiveles }}</span>
    </div>
  </div>

  <!-- Barra de progreso del nivel -->
  <div class="progress-bar-container" *ngIf="nivelActual && !nivelCompletado">
    <div class="progress-bar" [style.width.%]="progresoNivel"></div>
  </div>

  <!-- TÃ­tulo del nivel actual -->
  <div class="nivel-titulo" *ngIf="nivelActual && !nivelCompletado && !juegoCompletado">
    <h2>{{ nivelActual.titulo }}</h2>
    <p class="palabras-restantes">{{ palabrasRestantes }} palabras mÃ¡s</p>
  </div>

  <!-- Contenido del juego - Layout mejorado -->
  <div class="game-content" *ngIf="!nivelCompletado && !juegoCompletado && palabraActual">
    
    <div class="game-layout">
      <!-- Zona superior: Drop Zone con el emoji -->
      <div class="top-section">
        <div 
          class="drop-zone"
          (dragover)="onDragOver($event)"
          (drop)="onDrop($event)">
          <div class="palabra-container">
            <div class="palabra-emoji">
              {{ palabraActual.imagen }}
            </div>
            <div class="instruccion">
              <p>ğŸ‘† Â¡Arrastra la sÃ­laba correcta!</p>
            </div>
          </div>
        </div>
      </div>

      <!-- Zona inferior: SÃ­labas disponibles -->
      <div class="bottom-section">
        <div class="silabas-container">
          <div 
            *ngFor="let silaba of silabas"
            class="silaba-card"
            draggable="true"
            (dragstart)="onDragStart(silaba, $event)">
            {{ silaba }}
          </div>
        </div>
      </div>
    </div>

  </div>

  <!-- CelebraciÃ³n entre palabras -->
  <div class="celebracion-overlay" *ngIf="mostrarCelebracion && !nivelCompletado">
    <div class="celebracion-content">
      <div class="celebracion-emoji">ğŸ‰</div>
      <h2>Â¡Excelente!</h2>
      <p>Â¡Muy bien hecho!</p>
    </div>
  </div>

  <!-- Pantalla de nivel completado -->
  <div class="nivel-completed" *ngIf="nivelCompletado && !juegoCompletado">
    <div class="completion-card">
      <div class="completion-emoji">ğŸŒŸ</div>
      <h2>Â¡Nivel Completado!</h2>
      <p class="completion-message" *ngIf="nivelActual">
        Â¡Dominaste la familia de la {{ nivelActual.consonante }}!
      </p>
      <div class="completion-buttons">
        <button class="btn-siguiente-nivel" (click)="siguienteNivel()">
          <span class="icon">â†’</span>
          Siguiente nivel
        </button>
      </div>
    </div>
  </div>

  <!-- Pantalla de juego completado -->
  <div class="game-completed" *ngIf="juegoCompletado">
    <div class="completion-card">
      <div class="completion-emoji">ğŸ†</div>
      <h2>Â¡Felicitaciones!</h2>
      <p class="completion-message">
        Â¡Completaste todas las familias de sÃ­labas!
      </p>
      <p class="completion-submessage">
        Â¡Eres un campeÃ³n de las sÃ­labas! ğŸŒŸ
      </p>
      <div class="completion-buttons">
        <button class="btn-reiniciar" (click)="reiniciarJuego()">
          <span class="icon">ğŸ”„</span>
          Jugar de nuevo
        </button>
        <button class="btn-menu" (click)="volverAlMenu()">
          <span class="icon">ğŸ </span>
          MenÃº principal
        </button>
      </div>
    </div>
  </div>
</div>